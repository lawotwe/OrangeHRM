<?php
require_once 'PHPUnit/Framework.php';

/**
 * Test class for LinkCell.
 * Generated by PHPUnit on 2011-04-22 at 00:51:28.
 */
class LinkCellTest extends PHPUnit_Framework_TestCase
{
    /**
     * @var LinkCell
     */
    protected $linkCell;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp()
    {
        $this->linkCell = new LinkCell;
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown()
    {
    }

    /**
     * @todo Implement test__toString().
     */
    public function test__toString()
    {
        $dataObject = new LinkCellTestDataObject();

        $this->linkCell->setDataobject($dataObject);
        $this->linkCell->setProperties(array(
            'labelGetter' => 'getLabel',
            'placeholderGetters' => array(
                'id' => 'getId',
                'status' => 'getCurrentState',
            ),
            'urlPattern' => 'index.php?id={id}&amp;status={status}'
        ));

        $expectedLink = '<a href="index.php?id=1&amp;status=active">Label</a>';
        $this->assertEquals($expectedLink, $this->linkCell->__toString());
    }
}

class LinkCellTestDataObject {

    public function getLabel() {
        return 'Label';
    }

    public function getId() {
        return 1;
    }

    public function getCurrentState() {
        return 'active';
    }
}
?>
